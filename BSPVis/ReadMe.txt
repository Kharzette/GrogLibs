This is a mix of my own stuff, the Genesis 3D vis stuff, and Quake 2 vis stuff.

See the readme in BSPCore to get an idea where this stuff came from (I just ported it).

Or hit http://kharza.wordpress.com/2012/01/16/fun-with-bsps-and-pre-computed-visibility/
for the full story